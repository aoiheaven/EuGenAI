# Default Configuration for Medical Multimodal Chain-of-Thought Training

# Model Configuration
model:
  image_encoder_name: "vit_base_patch16_224"
  text_encoder_name: "bert-base-uncased"
  img_size: 512
  hidden_dim: 768
  num_cot_steps: 10
  num_heads: 8
  num_decoder_layers: 3
  dropout: 0.1
  num_diagnosis_classes: 100

# Dataset Configuration
dataset:
  data_root: "data"
  train_file: "data/train.json"
  val_file: "data/val.json"
  test_file: "data/test.json"
  image_size: 512
  max_text_length: 512
  max_cot_steps: 10
  augment_train: true
  augment_val: false

# Training Configuration
training:
  batch_size: 4
  num_epochs: 100
  learning_rate: 1.0e-4
  weight_decay: 1.0e-5
  warmup_epochs: 5
  gradient_clip: 1.0
  
  # Optimizer
  optimizer: "adamw"
  betas: [0.9, 0.999]
  
  # Scheduler
  scheduler: "cosine"
  min_lr: 1.0e-6
  
  # Loss weights
  loss_weights:
    diagnosis: 1.0
    confidence: 0.5
    reasoning: 0.3

# Validation Configuration
validation:
  val_interval: 1  # Validate every N epochs
  save_best: true
  metric: "accuracy"  # Metric to monitor for best model

# Logging Configuration
logging:
  log_dir: "logs"
  tensorboard: true
  wandb: false
  wandb_project: "medical-multimodal-cot"
  log_interval: 10  # Log every N batches
  
# Checkpoint Configuration
checkpoint:
  save_dir: "checkpoints"
  save_interval: 5  # Save every N epochs
  keep_last_n: 3

# Hardware Configuration
hardware:
  device: "cuda"
  num_workers: 4
  pin_memory: true
  mixed_precision: true  # Use automatic mixed precision

# Reproducibility
seed: 42

